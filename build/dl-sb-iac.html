<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="./favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="./_app/immutable/assets/Icon.fCVDIlbE.css" rel="stylesheet">
		<link href="./_app/immutable/assets/0.tHIjEIt2.css" rel="stylesheet">
		<link href="./_app/immutable/assets/ProjectReadme.e7ebC1QG.css" rel="stylesheet">
		<link href="./_app/immutable/assets/ProjectHero.EUyf_c_c.css" rel="stylesheet">
		<link href="./_app/immutable/assets/3.giYQxvlo.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.7TSGtKgI.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/B6-J02fQ.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/ERshZsAb.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.FLPrmreo.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/zJWW4RqO.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.bUMuwRmg.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/tVs-4zWj.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.QGvZb9cj.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/dtH_s4qS.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Ny8HH8Dq.js"><title>AS93 | Alicia Sykes Project Catalog</title><!-- HEAD_svelte-15ie2d1_START --><meta name="author" content="Alicia Sykes"><link rel="canonical" href="https://as93.net"><meta name="description" content="AS93 - Free & Open Source apps by Alicia Sykes"><meta name="keywords" content="open source, code, privacy, security, linux, self-hosted, projects"><meta charset="UTF-8"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"><meta name="theme-color" content="#ec4899"><link rel="icon" href="/favicon.png" type="image/png"><link rel="apple-touch-icon" href="/favicon.png"><meta property="og:type" content="website"><meta property="og:title" content="AS93 | Project Catalog"><meta property="og:description" content="Free & Open Source apps by Alicia Sykes"><meta property="og:image" content="https://as93.net/banner.png"><meta property="og:url" content="https://as93.net"><meta property="og:site_name" content="AS93"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="AS93 | Project Catalog"><meta name="twitter:description" content="Free & Open Source apps by Alicia Sykes"><meta name="twitter:image" content="https://as93.net/banner.png"><script defer data-domain="as93.net" src="https://no-track.as93.net/js/script.js" data-svelte-h="svelte-16hyxdw"></script><meta name="msvalidate.01" content="3B8A195ACDEB67AAA9AB3BBD8C37E3B6"><script type="application/ld+json" data-svelte-h="svelte-x0gm6">{
			"@context": "http://schema.org",
			"@type": "WebSite",
			"name": "AS93",
			"url": "https://as93.net"
		}
		{
		"@context": "http://schema.org",
		"@type": "Website",
		"headline": "AS93 | Alicia Sykes's Project Catalog",
		"image": [
			"https://as93.net/favicon.png",
			"https://as93.net/banner.png",
		],
		"datePublished": "2024-01-11T08:00:00+08:00",
		"dateModified": new Date().toString() || "2024-01-11T09:20:00+08:00",
		"author": {
			"@type": "Person",
			"name": "Alicia Sykes",
			"image": "https://as93.net/profile.jpg"
		},
		"publisher": {
			"@type": "Organization",
			"name": "AS93",
			"logo": { "@type": "ImageObject", "url": "https://as93.net/favicon.png" }
		},
		"description": "Free and open source apps and services, which respect your privacy",
	}</script><!-- HEAD_svelte-15ie2d1_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">   <div class="app"><section class="svelte-13sw29i"><a class="home svelte-13sw29i" href="/" title="Awesome Source Ninety Three"><svg focusable="false" width="1.8rem" height="1.8rem" class="undefined svelte-biy4zz" style="--iconColor: var(--primary); --iconHoverColor: currentColor;" viewBox="0 0 550 550"><!-- HTML_TAG_START --><path d="M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/><!-- HTML_TAG_END --></svg> <h1 class="svelte-13sw29i">AS93</h1></a> <nav class="svelte-13sw29i" data-svelte-h="svelte-2lm850"><a href="https://aliciasykes.com/about" class="svelte-13sw29i">About</a> <a href="https://cv.aliciasykes.com" class="svelte-13sw29i">Resume</a> <a href="https://aliciasykes.com/blog" class="svelte-13sw29i">Blog</a>  <a href="https://aliciasykes.com/contact" class="svelte-13sw29i">Contact</a></nav> </section> <header style="" class="svelte-1po4ls7"><div class="middle svelte-1po4ls7"><div class="left svelte-1po4ls7"><h1 class="svelte-1po4ls7">dl sb iac</h1> <p class="subtitle svelte-1po4ls7">⚙️ The IaC for Domain Locker's Supabase setup</p>  <div class="main-links svelte-1po4ls7"><a class="btn-link svelte-1po4ls7" href="https://github.com/lissy93/dl-sb-iac" target="_blank" rel="noopener"><svg focusable="false" width="20" height="20" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/><!-- HTML_TAG_END --></svg>
            View on GitHub</a> </div> <div class="links svelte-1po4ls7">   </div></div> </div> <div class="bottom svelte-1po4ls7"><div class="chips"><ul class="svelte-1po4ls7"><li class="svelte-1po4ls7"><svg focusable="false" width="14" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M0 96C0 43 43 0 96 0H384h32 32V384H416v64h32v64H416 384 96c-53 0-96-43-96-96V96zM64 416c0 17.7 14.3 32 32 32H352V384H96c-17.7 0-32 14.3-32 32zM235.9 243.2c37.9 9.8 46.1 15 43.6 27.7c-2.5 13.2-23.7 19.6-51.7 15.7c-10.2-1.4-22.4-5.4-33.1-8.9l-5.9-1.9-9.8 30.5 5.8 1.9c12 3.9 25.7 8.3 38.6 10.1c7 1 13.8 1.5 20.2 1.5c36.5 0 62.2-15.8 67.3-42.8c4.1-21.2-4-34.9-16.7-44.4c8.7-7.1 14.5-16.4 16.7-27.6c8.6-45.1-36.9-56.9-67-64.7l0 0-7.3-1.9c-36.5-9.7-38-16.5-36.2-25.8c2.5-13.2 23.8-19.7 51.6-15.7c6.6 .9 14.6 2.9 25.2 6.2l9.5-30.6c-12.3-3.8-21.9-6.2-30.2-7.3c-47.1-6.7-81.5 9.6-87.5 41.3c-4.1 21.3 4.4 35.1 16.7 44.5c-8.7 7.1-14.5 16.4-16.7 27.5c-8.5 44.6 37.4 56.8 59.5 62.7l7.5 2zm0-72c37.9 9.8 46.1 15 43.6 27.7c-2.2 11.3-16.5 14.9-25.2 16.1c-3.6-1-17.7-4.7-17.7-4.7c-36.5-9.7-38-16.5-36.2-25.8c2.2-11.3 16.5-14.9 25.2-16.1c.9 .2 10.3 2.7 10.3 2.7z"/><!-- HTML_TAG_END --></svg>
            License: MIT</li>  <li class="svelte-1po4ls7"><svg focusable="false" width="14" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 620 620"><!-- HTML_TAG_START --><path d="M144 128l0 16c0 44.2 35.8 80 80 80s80-35.8 80-80l0-16-160 0zm0-108.8c10.2 7.5 23.8 8.3 34.9 2L209.1 4c4.6-2.6 9.7-4 14.9-4s10.4 1.4 14.9 4l30.2 17.2c11 6.3 24.7 5.5 34.9-2l.1-.1c.3-.2 .6-.4 .8-.6l3-2.4L323.6 3.5c2.8-2.3 6.4-3.5 10-3.5L336 0c8.8 0 16 7.2 16 16l0 23 0 3.2c0 0 0 .1 0 .1L352 144c0 70.7-57.3 128-128 128s-128-57.3-128-128L96 42.3c0 0 0-.1 0-.1L96 39l0-23c0-8.8 7.2-16 16-16l2.4 0c3.6 0 7.2 1.2 10 3.5L140 16l3 2.4c.3 .2 .6 .4 .8 .6l.1 .1zM0 472c0-92.8 75.2-168 168-168l112 0c92.8 0 168 75.2 168 168l0 8c0 17.7-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32l0-8z"/><!-- HTML_TAG_END --></svg>
            Author: Lissy93</li> <li class="svelte-1po4ls7"><svg focusable="false" width="18" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 550 550"><!-- HTML_TAG_START --><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/><!-- HTML_TAG_END --></svg>
            Language: TypeScript</li> </ul></div> <p class="license svelte-1po4ls7">Free &amp; open source, forever.
      <a href="https://github.com/lissy93/dl-sb-iac" target="_blank" rel="noopener" class="svelte-1po4ls7">dl sb iac</a>
      is licensed under 
      MIT
      © 2025 <a href="https://aliciasykes.com" target="_blank" rel="noopener" class="svelte-1po4ls7" data-svelte-h="svelte-1unjwz">Alicia Sykes</a></p></div> </header> <section class="svelte-1v8jmth"><div class="top-stats svelte-1v8jmth"> <div title="Fork count" class="svelte-1v8jmth"><svg focusable="false" width="16px" height="16px" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M80 104c13.3 0 24-10.7 24-24s-10.7-24-24-24S56 66.7 56 80s10.7 24 24 24zm80-24c0 32.8-19.7 61-48 73.3v87.8c18.8-10.9 40.7-17.1 64-17.1h96c35.3 0 64-28.7 64-64v-6.7C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V160c0 70.7-57.3 128-128 128H176c-35.3 0-64 28.7-64 64v6.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V352 153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm232 0c0-13.3-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24s24-10.7 24-24zM80 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"/><!-- HTML_TAG_END --></svg> <span>2</span></div> <div title="License" class="svelte-1v8jmth"><svg focusable="false" width="16px" height="16px" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M0 96C0 43 43 0 96 0H384h32 32V384H416v64h32v64H416 384 96c-53 0-96-43-96-96V96zM64 416c0 17.7 14.3 32 32 32H352V384H96c-17.7 0-32 14.3-32 32zM235.9 243.2c37.9 9.8 46.1 15 43.6 27.7c-2.5 13.2-23.7 19.6-51.7 15.7c-10.2-1.4-22.4-5.4-33.1-8.9l-5.9-1.9-9.8 30.5 5.8 1.9c12 3.9 25.7 8.3 38.6 10.1c7 1 13.8 1.5 20.2 1.5c36.5 0 62.2-15.8 67.3-42.8c4.1-21.2-4-34.9-16.7-44.4c8.7-7.1 14.5-16.4 16.7-27.6c8.6-45.1-36.9-56.9-67-64.7l0 0-7.3-1.9c-36.5-9.7-38-16.5-36.2-25.8c2.5-13.2 23.8-19.7 51.6-15.7c6.6 .9 14.6 2.9 25.2 6.2l9.5-30.6c-12.3-3.8-21.9-6.2-30.2-7.3c-47.1-6.7-81.5 9.6-87.5 41.3c-4.1 21.3 4.4 35.1 16.7 44.5c-8.7 7.1-14.5 16.4-16.7 27.5c-8.5 44.6 37.4 56.8 59.5 62.7l7.5 2zm0-72c37.9 9.8 46.1 15 43.6 27.7c-2.2 11.3-16.5 14.9-25.2 16.1c-3.6-1-17.7-4.7-17.7-4.7c-36.5-9.7-38-16.5-36.2-25.8c2.2-11.3 16.5-14.9 25.2-16.1c.9 .2 10.3 2.7 10.3 2.7z"/><!-- HTML_TAG_END --></svg> <span>MIT</span></div> <div title="Repository size" class="svelte-1v8jmth"><svg focusable="false" width="16px" height="16px" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M288 96c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32zm58.5 32c3.5-10 5.5-20.8 5.5-32c0-53-43-96-96-96s-96 43-96 96c0 11.2 1.9 22 5.5 32H120c-22 0-41.2 15-46.6 36.4l-72 288c-3.6 14.3-.4 29.5 8.7 41.2S33.2 512 48 512H464c14.8 0 28.7-6.8 37.8-18.5s12.3-26.8 8.7-41.2l-72-288C433.2 143 414 128 392 128H346.5z"/><!-- HTML_TAG_END --></svg> <span>167 KB</span></div> <div title="Date created" class="svelte-1v8jmth"><svg focusable="false" width="16px" height="16px" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"/><!-- HTML_TAG_END --></svg> <span>Feb, 2025</span></div> <div title="Last updated" class="svelte-1v8jmth"><svg focusable="false" width="16px" height="16px" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256v12.8l10.7 7.1 96 64 20 13.3 26.6-39.9-20-13.3L280 243.2V120 96H232v24z"/><!-- HTML_TAG_END --></svg> <span>3 months ago</span></div> <div title="Programming language" class="svelte-1v8jmth"><svg focusable="false" width="22" height="16px" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 550 550"><!-- HTML_TAG_START --><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/><!-- HTML_TAG_END --></svg> <span>TypeScript</span></div></div>  <div class="markdown svelte-1v8jmth"></div> </section> <script type="application/ld+json"><!-- HTML_TAG_START -->{"@context":"http://schema.org","@type":"SoftwareSourceCode","headline":"dl-sb-iac","image":"https://as93.net/favicon.png","datePublished":"2025-02-02T12:03:07Z","dateModified":"2025-07-01T21:43:08Z","author":{"@type":"Person","name":"Alicia Sykes"},"description":"⚙️ The IaC for Domain Locker's Supabase setup"}<!-- HTML_TAG_END --></script>  </div> 
			
			<script>
				{
					__sveltekit_pf6nfa = {
						base: new URL(".", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("./_app/immutable/entry/start.7TSGtKgI.js"),
						import("./_app/immutable/entry/app.FLPrmreo.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data: [null,{type:"data",data:{repoDetails:{id:926039718,name:"dl-sb-iac",user:"Lissy93",url:"https://github.com/Lissy93/dl-sb-iac",description:"⚙️ The IaC for Domain Locker's Supabase setup",isFork:false,createdAt:"2025-02-02T12:03:07Z",updatedAt:"2025-07-01T21:43:08Z",homepage:"",language:"TypeScript",license:"MIT",size:167,stars:0,forks:2,issues:0,topics:[],archived:false,has_pages:false},readme:"\n       ____                        _         _               _             \n      |  _ \\  ___  _ __ ___   __ _(_)_ __   | |    ___   ___| | _____ _ __ \n      | | | |/ _ \\| '_ ` _ \\ / _` | | '_ \\  | |   / _ \\ / __| |/ / _ \\ '__|\n      | |_| | (_) | | | | | | (_| | | | | | | |__| (_) | (__|   \u003C  __/ |   \n      |____/ \\___/|_| |_| |_|\\__,_|_|_| |_| |_____\\___/ \\___|_|\\_\\___|_|   \n                                                                           \n\n>> This repo contains the config, schema and edge functions for Domain Locker \u003C\u003C\n>> For the main project and app, see https://github.com/lissy93/domain-locker \u003C\u003C\n\n================================================================================\nDIRECTORY STRUCTURE\n================================================================================\ndomain-locker-edge/\n├─ supabase/\n│  ├─ functions/      # Deno Edge functions\n│  │  ├─ [function]/  # Directory for each function\n│  │  │  ╰─ index.ts  # Entry point for the function\n│  │  ╰─ shared/      # Utilities for edge functions\n│  ├─ migrations/     # Database schema\n│  ├─ templates/      # Mailer templates\n│  ╰─ config.toml     # Supabase configuration\n├─ .github/           # Repo admin, and GH Actions\n│  ├─ workflows/      # CI/CD files for deployment\n│  ╰─ README.txt      # You're looking at it ;)\n├─ Makefile           # Project commands\n├─ deno.json          # Deno project config\n╰─ .gitignore         # Stuff to not commit\n\n================================================================================\nDEVELOPING\n================================================================================\nPre-requisites:\n  - Install Git, Deno, Supabase CLI, Postgres and Docker on your local machine\n  - Deploy a Supabase instance. See https://supabase.io/docs/guides/self-hosting\n  - Configure all the required environmental variables for services (see below)\n\nProject setup:\n  git clone git@github.com:Lissy93/domain-locker-edge.git\n  supabase link --project-ref PROJECT_REF\n\nDevelopment:\n  supabase start\n  supabase status\n  supabase functions serve\n\n================================================================================\nDEPLOYING\n================================================================================\nsupabase secrets set-from-env   # Set environments\nsupabase config push            # Apply configuration\nsupabase db push                # Deploy schema\nsupabase functions deploy       # Deploy functions\n\nSee the `Makefile` for all deployment commands.\n\nThe easiest way to deploy is via GitHub Actions, which we use for CI/CD. \nJust push to main or trigger the supabase.yml workflow, and it will deploy\n\nYou'll need to configure the following GitHub secrets to authenticate:\n  SUPABASE_PROJECT_ID     - The Supabase project ID\n  SUPABASE_ACCESS_TOKEN   - The Supabase access token\n  SUPABASE_DB_PASSWORD    - The Postgres password for your Supabase DB\n  SUPABASE_ENV_FILE       - Raw text env vars for all else you need (see below)\n\n================================================================================\nFUNCTIONS\n================================================================================\nStripe and Billing:\n- cancel-subscription   Cancels a user's subscription\n- checkout-session      Creates a new checkout session for a subscription\n- stripe-webhook        Handles incoming events triggered from Stripe\n- new-user-billing      Create/updates Stripe customer, and applies user plan\n- stripe-details        Fetches Stripe billing and customer details for a user\n\nUser Management:\n- delete-account        Deletes a user account and all associated data\n- export-data           Exports all (selected) data for a user in a given format\n\nDomain Management:\n- trigger-updates       Selects domains for users, and triggers domain-updater\n- domain-updater        Updates domains with latest info, triggers notifications\n- send-notification     Sends a notification to user id with message\n- website-monitor       Gets response info for each (pro) domain, updates db\n- expiration-invites    Creates a calendar invite 90 days before domain expiry\n- expiration-reminders  Triggers reminders for upcoming domain expirations\n\nMaintenance:\n- cleanup-monitor-data  Averages historic data from website monitoring\n- cleanup-notifications Ensures notifications have been sent, removes old ones\n- health                Checks system health, returns service statuses\n\nInfo Routes:\n- domain-info           Fetches all info for any given domain name\n- domain-subs           Fetches all subdomains for any given domain\n\n\n================================================================================\nUTILITIES\n================================================================================\nThere's some shared utils that all/most the functions use, these are:\n\n- logger\n  - For consistent logging, with different levels (info, warn, error)\n  - Can integrate with external logging services for better monitoring\n  - Can report error logs to GlitchTip/Sentry or other error tracking\n- monitor\n  - Monitors function duration and status\n  - If `X-Cron-Run` header is set, will send to Healthcheck for cron monitoring\n  - Can integrate with external monitoring services for better insights\n- serveWithCors\n  - Wraps Deno HTTP server, but with shared headers and config set\n  - Handles CORS preflight requests, using `APP_ORIGIN` for allowed domains\n  - Throws suitable error for unauthorized, unsupported or bad requests\n- supabaseClient\n  - Provides a shared Supabase client for functions\n  - Handles authentication and authorization for user requests\n  - Uses the JWT from bearer token to apply correct permissions and RLS\n\n================================================================================\nENVIRONMENT VARIABLES\n================================================================================\nSupabase:\n  DB_URL - The URL to your Supabase instance and project\n  DB_KEY - The anon key to your new Supabase project\n\nConfig:\n  APP_ORIGIN - The origin URL for client-app (for CORS)\n\nMonitoring:\n  HC_URL - The URL to the Healthcheck service\n  GLITCHTIP_URL - URL to your GlitchTip/Sentry instance\n  GLITCHTIP_TOKEN - DSN token for GlitchTip/Sentry\n  LOGFLARE_ENDPOINT_URL - The Logflare endpoint URL\n  DL_LOGGING_ENABLED - Enable or disable logging\n\nAuthentication\n  SUPABASE_AUTH_EXTERNAL_GOOGLE_CLIENT_ID   - Google OAuth Client ID\n  SUPABASE_AUTH_EXTERNAL_GOOGLE_SECRET      - Google OAuth Secret\n  SUPABASE_AUTH_EXTERNAL_FACEBOOK_CLIENT_ID - Facebook OAuth Client ID\n  SUPABASE_AUTH_EXTERNAL_FACEBOOK_SECRET    - Facebook OAuth Secret\n  SUPABASE_AUTH_EXTERNAL_GITHUB_CLIENT_ID   - GitHub OAuth Client ID\n  SUPABASE_AUTH_EXTERNAL_GITHUB_SECRET      - GitHub OAuth Secret\n\nAPI Endpoints:\n  AS93_DOMAIN_INFO_URL  - The URL to our external domain info API\n  AS93_DOMAIN_INFO_KEY  - And the key for the domain info API\n  AS93_SPONSORS_API     - The URL to our GitHub sponsors API\n\nWorker Endpoints:\n  WORKER_DOMAIN_UPDATER_URL - The URL to domain-updater function\n  WORKER_SEND_NOTIFICATION_URL - The URL to send-notification function\n\nStripe:\n  STRIPE_SECRET_KEY - Stripe secret key (starting with sk_live_ or sk_test_)\n  STRIPE_WEBHOOK_SECRET - Stripe webhook secret (starting with whsec_)\n\nStripe Prices:\n  STRIPE_PRICE_HM - Stripe price ID for the hobby monthly plan (starting price_)\n  STRIPE_PRICE_HA - Price ID for the hobby annual plan\n  STRIPE_PRICE_PM - Price ID for the pro monthly plan\n  STRIPE_PRICE_PA - Price ID for the pro annual plan\n\nResend:\n  RESEND_API_KEY - The API key for the Resend service (send access)\n  RESEND_SENDER - The sender email for Resend\n\nTwilio:\n  TWILIO_SID - Twilio account SID\n  TWILIO_AUTH_TOKEN - Twilio auth token\n  TWILIO_PHONE_NUMBER - Twilio phone number\n  TWILIO_WHATSAPP_NUMBER - Twilio WhatsApp number\n\nTelegram\n  TELEGRAM_BOT_TOKEN - The token for the telegram notification bot\n\nIt's advisable to use a secret store for this. We use Supabase Vault.\nOr, you can pass secrets to Supabase, by running:\n  - supabase secrets set --env-file supabase/functions/.env\nOr, to edit a single variable:\n  - supabase secrets set VAR_NAME=some_value\n\n\n================================================================================\nCRON JOBS\n================================================================================\nSome functions are triggered at specific times or intervals as scheduled crons\nWe do this directly from Postgres's pg_cron using the `cron.schedule` function\nThis is mainly used for keeping data up-to-date, triggering alerts and cleaning\n\nWe have the following crons setup with `cron.schedule` function.\n- cleanup-monitor-data  (runs daily, e.g. 0 2 * * *)\n- new-user-billing      (runs daily, e.g. 0 3 * * *)\n- run_domain_update_job (runs daily, e.g. 0 4 * * *)\n- cleanup-notifications (runs daily, e.g. 0 5 * * *)\n- expiration-invites    (runs daily, e.g. 0 6 * * *)\n- expiration-reminders  (runs daily, e.g. 0 7 * * *)\n- monitor-uptimes       (runs hourly, e.g. 0 * * * *)\n\nExample SQL to create a cron:\nselect cron.schedule(\n  'cleanup-notifications',\n  '0 5 * * *',\n  $$\n    SELECT net.http_post(\n      url := (\n        SELECT decrypted_secret\n        FROM vault.decrypted_secrets\n        WHERE name = 'project_url'\n      ) || '/functions/v1/cleanup-notifications',\n      headers := jsonb_build_object(\n        'Content-Type', 'application/json',\n        'Authorization', 'Bearer ' || (\n          SELECT decrypted_secret\n          FROM vault.decrypted_secrets\n          WHERE name = 'service_key'\n        ),\n        'X-Cron-Run', 'true'\n      ),\n      body := jsonb_build_object('invoked_at', now())\n    );\n  $$\n);\n\n================================================================================\nSUPPORT\n================================================================================\nWe do not provide support for this codebase. It is provided as-is.\nIf you need help, please refer to the official docs for the services used.\nWe are not accepting feature requests or bug reports (except security issues).\n\nThe difficulty of deploying this project is graded at moderate to hard\nYou'll need a solid understanding of Deno, Supabase, Postgres and Docker\n\nIt is also possible to run Domain Locker without Supabase, using Postgres only.\n\n================================================================================\nNOTES\n================================================================================\nFor troubleshooting, ensure protocol, method, port, headers and body are correct\nYou must set and upload ALL environmental variables properly for things to work\nAvoid configuring in the Supabase UI, instead update the TOML file and re-deploy\n\nExample CURL request:\n  curl -i --location \\\n    --request POST 'https://[project].supabase.co/functions/v1/hello-world' \\\n    --header 'Authorization: Bearer xxxxx' \\\n    --header 'Content-Type: application/json' \\\n    --data '{\"name\":\"Dino\"}'\n\nOr, for local dev, the URL would be: 127.0.0.1:54321/functions/v1/hello-world\n\nIt is your responsibility to maintain, secure and backup your Supabase instance\n\n================================================================================\nLICENSE\n================================================================================\nCopyright (c) 2025 Alicia Sykes\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\nSoftware, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n================================================================================\nABOUT\n================================================================================\nCoded with ❤ and ♨ by Alicia Sykes                      https://aliciasykes.com\nBuilt for Domain Locker                                https://domain-locker.com\n\n                        Thanks for being here! (●'◡'●)\n================================================================================\n                                              __\n                                             /°_)\n                                    _.----._/ /\n                                   /         /\n                                __/ (  | (  |\n                               /__.-'|_|--|_|\n",meta:{}},uses:{params:["repo"]}}],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
